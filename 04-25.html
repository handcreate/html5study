<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>fileReader对象的时间先后顺序</title>
	</head>
	<script type="text/javascript" charset="utf-8">
		var result = document.getElementById("result");
		var input = document.getElementById("input");
		if(typeof FileReader == 'undefined')
		{
			result.innerHTML = "<p>抱歉，你的浏览器不支持 FileReader</p>";
			input.setAttribute('disabled', 'disabled');
		}
		
		function readFile()
		{
			var file = document.getElementById("file").files[0];
			var reader = new FileReader();
			reader.readAsDataURL(file);
			reader.onload = function(e)
			{
				var result = document.getElementById("result");
				result.innerHTML='<img src="' + this.result + '" alt="" />';
				alert("load");
			}
			reader.onprogress = function(e)
			{
				alert("porgress");
			}
			reader.onabort = function(e)
			{
				alert("abort");
			}
			reader.onerror = function(e)
			{
				alert("error");
			}
			reader.onloadstart = function(e)
			{
				alert("loadstart");
			}
			reader.onloadend = function(e)
			{
				alert("loadend");
			}
		}
	</script>
	<body>
		<p>
			<label>请选择一个图像文件：</label>
			<input type="file" id="file" /><br />
			<input type="button" name="" id="" value="显示图像" onclick="readFile()" />
		</p>
		<div name="result" id="result">
			<!--
            	作者：handcreate@163.com
            	时间：2014-09-11
            	描述：这里用来显示读取结果
            -->
		</div>
	</body>
</html>
